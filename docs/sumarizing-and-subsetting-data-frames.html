<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Sumarizing and subsetting data frames | BIOL120 Excercise Guidebook</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Sumarizing and subsetting data frames | BIOL120 Excercise Guidebook" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Sumarizing and subsetting data frames | BIOL120 Excercise Guidebook" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Professors Jackie Dresch and Javier F. Tabima Restrepo" />


<meta name="date" content="2022-11-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-r-2-data-frames.html"/>
<link rel="next" href="plots.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quantitative Biology (BIOL120)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Quantitative Biology (BIOL120) Excercise Guidebook</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#additional-information-about-the-professor"><i class="fa fa-check"></i>Additional information about the professor</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="structure-of-the-guidebook-and-faqs.html"><a href="structure-of-the-guidebook-and-faqs.html"><i class="fa fa-check"></i><b>2</b> Structure of the Guidebook and FAQs</a>
<ul>
<li class="chapter" data-level="2.1" data-path="structure-of-the-guidebook-and-faqs.html"><a href="structure-of-the-guidebook-and-faqs.html#what-do-we-need-for-lab-sessions"><i class="fa fa-check"></i><b>2.1</b> What do we need for lab sessions?</a></li>
<li class="chapter" data-level="2.2" data-path="structure-of-the-guidebook-and-faqs.html"><a href="structure-of-the-guidebook-and-faqs.html#why-are-we-using-these-programs"><i class="fa fa-check"></i><b>2.2</b> Why are we using these programs?</a></li>
<li class="chapter" data-level="2.3" data-path="structure-of-the-guidebook-and-faqs.html"><a href="structure-of-the-guidebook-and-faqs.html#do-we-need-to-know-how-to-program"><i class="fa fa-check"></i><b>2.3</b> Do we need to know how to program?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>3</b> Software for class</a>
<ul>
<li class="chapter" data-level="3.1" data-path="software.html"><a href="software.html#how-to-install-r"><i class="fa fa-check"></i><b>3.1</b> How to install R?</a></li>
<li class="chapter" data-level="3.2" data-path="software.html"><a href="software.html#how-to-install-rstudio"><i class="fa fa-check"></i><b>3.2</b> How to install RStudio?</a></li>
<li class="chapter" data-level="3.3" data-path="software.html"><a href="software.html#how-to-install-atom"><i class="fa fa-check"></i><b>3.3</b> How to install Atom?</a></li>
<li class="chapter" data-level="3.4" data-path="software.html"><a href="software.html#how-to-install-matlab"><i class="fa fa-check"></i><b>3.4</b> How to install MATLAB?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="testing-the-software.html"><a href="testing-the-software.html"><i class="fa fa-check"></i><b>4</b> Testing the software</a>
<ul>
<li class="chapter" data-level="4.1" data-path="testing-the-software.html"><a href="testing-the-software.html#testing-r-and-rstudio"><i class="fa fa-check"></i><b>4.1</b> Testing R and RStudio</a></li>
<li class="chapter" data-level="4.2" data-path="testing-the-software.html"><a href="testing-the-software.html#testing-atom"><i class="fa fa-check"></i><b>4.2</b> Testing Atom</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rmark.html"><a href="rmark.html"><i class="fa fa-check"></i><b>5</b> Introduction to electronic notebooks in R Markdown</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rmark.html"><a href="rmark.html#markdown-formats"><i class="fa fa-check"></i><b>5.1</b> Markdown formats</a></li>
<li class="chapter" data-level="5.2" data-path="rmark.html"><a href="rmark.html#basics-of-markdown"><i class="fa fa-check"></i><b>5.2</b> Basics of Markdown</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="rmark.html"><a href="rmark.html#basic-syntax"><i class="fa fa-check"></i><b>5.2.1</b> Basic syntax</a></li>
<li class="chapter" data-level="5.2.2" data-path="rmark.html"><a href="rmark.html#lines-of-code"><i class="fa fa-check"></i><b>5.2.2</b> Lines of code</a></li>
<li class="chapter" data-level="5.2.3" data-path="rmark.html"><a href="rmark.html#lists"><i class="fa fa-check"></i><b>5.2.3</b> Lists</a></li>
<li class="chapter" data-level="5.2.4" data-path="rmark.html"><a href="rmark.html#horizontal-rules"><i class="fa fa-check"></i><b>5.2.4</b> Horizontal rules</a></li>
<li class="chapter" data-level="5.2.5" data-path="rmark.html"><a href="rmark.html#links-figures-and-tables"><i class="fa fa-check"></i><b>5.2.5</b> Links, figures and tables</a></li>
<li class="chapter" data-level="5.2.6" data-path="rmark.html"><a href="rmark.html#tables"><i class="fa fa-check"></i><b>5.2.6</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="rmark.html"><a href="rmark.html#r-markdown-excerise"><i class="fa fa-check"></i><b>5.3</b> R Markdown Excerise:</a></li>
<li class="chapter" data-level="5.4" data-path="rmark.html"><a href="rmark.html#additional-information-on-markdown"><i class="fa fa-check"></i><b>5.4</b> Additional information on Markdown</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>6</b> Creating datasets and replicability</a>
<ul>
<li class="chapter" data-level="6.1" data-path="datasets.html"><a href="datasets.html#creating-basic-datasets"><i class="fa fa-check"></i><b>6.1</b> Creating basic datasets</a></li>
<li class="chapter" data-level="6.2" data-path="datasets.html"><a href="datasets.html#asking-biological-questions-and-identifying-measurable-outcomes"><i class="fa fa-check"></i><b>6.2</b> Asking biological questions and identifying measurable outcomes</a></li>
<li class="chapter" data-level="6.3" data-path="datasets.html"><a href="datasets.html#creating-a-clean-raw-dataset"><i class="fa fa-check"></i><b>6.3</b> Creating a clean raw dataset</a></li>
<li class="chapter" data-level="6.4" data-path="datasets.html"><a href="datasets.html#creating-basic-basic-plots-in-r"><i class="fa fa-check"></i><b>6.4</b> Creating basic (basic) plots in R</a></li>
<li class="chapter" data-level="6.5" data-path="datasets.html"><a href="datasets.html#comparisons-between-groups."><i class="fa fa-check"></i><b>6.5</b> Comparisons between groups.</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>7</b> Basic R (1): Vectors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="vectors.html"><a href="vectors.html#basic-data-structures-in-r"><i class="fa fa-check"></i><b>7.1</b> Basic data structures in R</a></li>
<li class="chapter" data-level="7.2" data-path="vectors.html"><a href="vectors.html#unidimensional-objects-vectors"><i class="fa fa-check"></i><b>7.2</b> Unidimensional objects: Vectors</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="vectors.html"><a href="vectors.html#classes-of-vectors"><i class="fa fa-check"></i><b>7.2.1</b> Classes of vectors</a></li>
<li class="chapter" data-level="7.2.2" data-path="vectors.html"><a href="vectors.html#expanding-vectors"><i class="fa fa-check"></i><b>7.2.2</b> Expanding vectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html"><i class="fa fa-check"></i><b>8</b> Basic R (2) : Data frames</a>
<ul>
<li class="chapter" data-level="8.1" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#creating-tables-using-vectors"><i class="fa fa-check"></i><b>8.1</b> Creating tables using vectors</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#accessing-specific-rows-and-columns"><i class="fa fa-check"></i><b>8.1.1</b> Accessing specific rows and columns</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#data-frames-versus-matrices"><i class="fa fa-check"></i><b>8.2</b> Data frames versus matrices</a></li>
<li class="chapter" data-level="8.3" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#combining-different-two-dimensional-data-structures"><i class="fa fa-check"></i><b>8.3</b> Combining different two-dimensional data structures</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#combining-by-rows"><i class="fa fa-check"></i><b>8.3.1</b> Combining by rows</a></li>
<li class="chapter" data-level="8.3.2" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#combining-by-columns"><i class="fa fa-check"></i><b>8.3.2</b> Combining by columns</a></li>
<li class="chapter" data-level="8.3.3" data-path="basic-r-2-data-frames.html"><a href="basic-r-2-data-frames.html#reading-in-data-tables"><i class="fa fa-check"></i><b>8.3.3</b> Reading in data tables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sumarizing-and-subsetting-data-frames.html"><a href="sumarizing-and-subsetting-data-frames.html"><i class="fa fa-check"></i><b>9</b> Sumarizing and subsetting data frames</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sumarizing-and-subsetting-data-frames.html"><a href="sumarizing-and-subsetting-data-frames.html#reading-in-the-dataframe"><i class="fa fa-check"></i><b>9.1</b> Reading in the dataframe</a></li>
<li class="chapter" data-level="9.2" data-path="sumarizing-and-subsetting-data-frames.html"><a href="sumarizing-and-subsetting-data-frames.html#summarizing-and-subsetting-data"><i class="fa fa-check"></i><b>9.2</b> Summarizing and subsetting data</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="sumarizing-and-subsetting-data-frames.html"><a href="sumarizing-and-subsetting-data-frames.html#summarizing-data"><i class="fa fa-check"></i><b>9.2.1</b> Summarizing data</a></li>
<li class="chapter" data-level="9.2.2" data-path="sumarizing-and-subsetting-data-frames.html"><a href="sumarizing-and-subsetting-data-frames.html#summarizing-data-1"><i class="fa fa-check"></i><b>9.2.2</b> Summarizing data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>10</b> Plotting data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="plots.html"><a href="plots.html#using-ggplot2-to-plot-in-r"><i class="fa fa-check"></i><b>10.1</b> Using <code>ggplot2</code> to plot in <code>R</code></a></li>
<li class="chapter" data-level="10.2" data-path="plots.html"><a href="plots.html#different-types-of-plots"><i class="fa fa-check"></i><b>10.2</b> Different types of plots</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="plots.html"><a href="plots.html#histogram"><i class="fa fa-check"></i><b>10.2.1</b> Histogram</a></li>
<li class="chapter" data-level="10.2.2" data-path="plots.html"><a href="plots.html#barplots"><i class="fa fa-check"></i><b>10.2.2</b> Barplots</a></li>
<li class="chapter" data-level="10.2.3" data-path="plots.html"><a href="plots.html#scatterplots"><i class="fa fa-check"></i><b>10.2.3</b> Scatterplots</a></li>
<li class="chapter" data-level="10.2.4" data-path="plots.html"><a href="plots.html#boxplots-violin-plots-and-distributions"><i class="fa fa-check"></i><b>10.2.4</b> Boxplots, violin plots and distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="plots.html"><a href="plots.html#more-resources-on-ggplot2"><i class="fa fa-check"></i><b>10.3</b> More resources on <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html"><i class="fa fa-check"></i><b>11</b> Using MATLAB as a Powerful Calculator</a>
<ul>
<li class="chapter" data-level="11.1" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#matlab-basics-for-calculation"><i class="fa fa-check"></i><b>11.1</b> MATLAB Basics for calculation:</a></li>
<li class="chapter" data-level="11.2" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#early-words-of-caution"><i class="fa fa-check"></i><b>11.2</b> Early words of caution:</a></li>
<li class="chapter" data-level="11.3" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#dealing-with-vectorsmatrices"><i class="fa fa-check"></i><b>11.3</b> Dealing with vectors/matrices:</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#defining-a-vectormatrix"><i class="fa fa-check"></i><b>11.3.1</b> Defining a vector/matrix:</a></li>
<li class="chapter" data-level="11.3.2" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#accessing-elements-adding-and-subtracting"><i class="fa fa-check"></i><b>11.3.2</b> Accessing Elements, Adding, and Subtracting</a></li>
<li class="chapter" data-level="11.3.3" data-path="using-matlab-as-a-powerful-calculator.html"><a href="using-matlab-as-a-powerful-calculator.html#multiplying-two-vectorsmatrices"><i class="fa fa-check"></i><b>11.3.3</b> Multiplying two vectors/matrices:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="m-files-functions-and-simple-plotting-tools.html"><a href="m-files-functions-and-simple-plotting-tools.html"><i class="fa fa-check"></i><b>12</b> m files, functions, and Simple Plotting Tools</a>
<ul>
<li class="chapter" data-level="12.1" data-path="m-files-functions-and-simple-plotting-tools.html"><a href="m-files-functions-and-simple-plotting-tools.html#m-files"><i class="fa fa-check"></i><b>12.1</b> m files</a></li>
<li class="chapter" data-level="12.2" data-path="m-files-functions-and-simple-plotting-tools.html"><a href="m-files-functions-and-simple-plotting-tools.html#functions"><i class="fa fa-check"></i><b>12.2</b> functions</a></li>
<li class="chapter" data-level="12.3" data-path="m-files-functions-and-simple-plotting-tools.html"><a href="m-files-functions-and-simple-plotting-tools.html#plotting-function-output-model-predictions"><i class="fa fa-check"></i><b>12.3</b> Plotting function output / model predictions</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html"><i class="fa fa-check"></i><b>13</b> Model Fitting (A.K.A. parameter estimation)</a>
<ul>
<li class="chapter" data-level="13.1" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#importing-numerical-data"><i class="fa fa-check"></i><b>13.1</b> Importing Numerical Data</a></li>
<li class="chapter" data-level="13.2" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#creating-a-model-function"><i class="fa fa-check"></i><b>13.2</b> Creating a Model Function</a></li>
<li class="chapter" data-level="13.3" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#creating-an-objective-error-function"><i class="fa fa-check"></i><b>13.3</b> Creating an Objective / Error Function</a></li>
<li class="chapter" data-level="13.4" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#fitting-your-model-to-your-data"><i class="fa fa-check"></i><b>13.4</b> Fitting your Model to your Data</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#running-fminsearch"><i class="fa fa-check"></i><b>13.4.1</b> Running fminsearch()</a></li>
<li class="chapter" data-level="13.4.2" data-path="model-fitting-a.k.a.-parameter-estimation.html"><a href="model-fitting-a.k.a.-parameter-estimation.html#visualizing-the-best-fit"><i class="fa fa-check"></i><b>13.4.2</b> Visualizing the Best Fit</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BIOL120 Excercise Guidebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sumarizing-and-subsetting-data-frames" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Chapter 9</span> Sumarizing and subsetting data frames<a href="sumarizing-and-subsetting-data-frames.html#sumarizing-and-subsetting-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>There are many cases in which a data frame is comprised by all sorts of different data types.</p>
<p>We can extract, process and analyze all sorts of information in a data frame. We wil llearn how to do this using the basic <code>R</code> commands</p>
<div id="reading-in-the-dataframe" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Reading in the dataframe<a href="sumarizing-and-subsetting-data-frames.html#reading-in-the-dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will be analyzing the amazing data set complied by Collins, Gilley and Udry (2022) that tackles the question of <strong>Why do some of the candies have the same color but smell different?</strong>.</p>
<p>To proceed, we will read in the data table included <a href="https://raw.githubusercontent.com/Tabima/QuantBio_BIO120/main/Lab_6/Collins_Gilley_Udry_2022">here</a>.</p>
<div class="rmdquestion">
<h4 id="question-1">
Question 1
</h4>
<ul>
<li>
Download the data frame and load it into <code>R</code> into an object called <code>candy_table</code>
</li>
<li>
What are the classes of each column of data?
</li>
</ul>
</div>
<div class="rmdinfo">
<h4 id="files-without-an-extension">
Files without an extension
</h4>
<p>
In some cases, you will find that some of the files won’t have an extension (meaning there is no info after the name of the file of the type of the file, this being either <code>.txt</code>, <code>.csv</code> and others).
</p>
<p>
In this case our recommendation is to open the files directly in <code>Rstudio</code>, <code>Atom</code> or any other word processor and checking what type of file that is.
</p>
<p>
In the case of today’s file, you can easily see its a table delimited file.
</p>
</div>
<pre><code>##     color      flavor               scent       type scent.category
## 1     red  strawberry      sugary, fruity    skittle          fruit
## 2     red      cherry        waxy, crayon  starburst       non-food
## 3     red   chocolate            old milk        m&amp;m       non-food
## 4     red choc/peanut     faint chocolate peanut m&amp;m      chocolate
## 5  orange choc/peanut        faint peanut peanut m&amp;m      chocolate
## 6  orange      orange strong sugary fruit    skittle          fruit
## 7  yellow       lemon sugar, faint citrus    skittle          fruit
## 8  yellow choc/peanut        faint peanut peanut m&amp;m      chocolate
## 9  yellow   chocolate     faint chocolate        m&amp;m      chocolate
## 10 yellow       lemon   wax, faint citrus  starburst       non-food
## 11  green choc/peanut    nothing, plastic peanut m&amp;m       non-food
## 12  green   chocolate       old chocolate        m&amp;m      chocolate
## 13  green        lime      sugary, fruity    skittle          fruit
## 14   blue   chocolate     funk, chocolate        m&amp;m       non-food
## 15   blue choc/peanut   choc/peanut, funk peanut m&amp;m      chocolate
## 16  brown       grape       sugar, floral    skittle          fruit
## 17  brown   chocolate   old powdered milk        m&amp;m       non-food
## 18   pink  strawberry              crayon  starburst       non-food</code></pre>
</div>
<div id="summarizing-and-subsetting-data" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Summarizing and subsetting data<a href="sumarizing-and-subsetting-data-frames.html#summarizing-and-subsetting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we have the <code>candy_table</code> data set, the next step is to determine which elements of it do we want to analyse.</p>
<p>For example, we can create a summary of the total number of colors, the number of samples for each color, the types of candy, ect.</p>
<div class="rmdinfo">
<h4 id="objects-and-elements-within-an-element">
Objects and elements within an element
</h4>
<p>
We know that <code>R</code> is an object oriented language. These objects can store many elements. In the case of multidimensional objects (more than one dimension), we can easily access them using the <strong>$</strong> sign.
</p>
<p>
For example, in the case of our <code>candy_table</code> data frame, our elements are the columns. Each column, then, is identified by the header (also called name) of the column.
</p>
<p>
So, if you want to look at the <code>color</code> column of <code>candy_table</code>, all you have to do is write:
</p>
</div>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="sumarizing-and-subsetting-data-frames.html#cb79-1" aria-hidden="true" tabindex="-1"></a>candy_table<span class="sc">$</span>color</span></code></pre></div>
<pre><code>##  [1] &quot;red&quot;    &quot;red&quot;    &quot;red&quot;    &quot;red&quot;    &quot;orange&quot; &quot;orange&quot; &quot;yellow&quot; &quot;yellow&quot; &quot;yellow&quot; &quot;yellow&quot; &quot;green&quot;  &quot;green&quot;  &quot;green&quot; 
## [14] &quot;blue&quot;   &quot;blue&quot;   &quot;brown&quot;  &quot;brown&quot;  &quot;pink&quot;</code></pre>
<div class="rmdquestion">
<h4 id="question-2">
Question 2
</h4>
<ul>
<li>
How would you look at the <code>acent</code> column in the <code>candy_table</code> data frame?
</li>
</ul>
</div>
<div id="summarizing-data" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Summarizing data<a href="sumarizing-and-subsetting-data-frames.html#summarizing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lets say we want to know what is the total number of colors. Sure, you can count them, but you can also let <code>R</code> count them for you.</p>
<p>First, you need to know how many <strong>unique</strong> colors do we have in our column. To do so, use the <code>unique</code> function:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="sumarizing-and-subsetting-data-frames.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(candy_table<span class="sc">$</span>color)</span></code></pre></div>
<pre><code>## [1] &quot;red&quot;    &quot;orange&quot; &quot;yellow&quot; &quot;green&quot;  &quot;blue&quot;   &quot;brown&quot;  &quot;pink&quot;</code></pre>
<p>Simple. We see that <strong>red, orange, yellow, green, blue, brown, pink</strong> are our colors. We can count them by hand, or we can ask <code>R</code> to count them for us:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="sumarizing-and-subsetting-data-frames.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(candy_table<span class="sc">$</span>color))</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<hr />
<div class="rmdinfo">
<h4 id="nested-functions">
Nested functions
</h4>
<p>
The above example shows an example of a nested function. That means that we have one function inside of a different function.
</p>
<p>
The way that works is that the first function is the one that goes inside, and the second one outside.
</p>
<p>
In the <code>length(unique(object))</code> case, then think it like this:
</p>
<ol style="list-style-type: decimal">
<li>
Give the the unique colors of candy
</li>
<li>
<strong>And then</strong> give the the total number of step 1
</li>
</ol>
<p>
This can get really complex very fast. So there are two options in case you don’t like this:
</p>
<h5 id="creating-intermediate-objects-for-each-step">
Creating intermediate objects for each step:
</h5>
<p>
You can create and intermediate object:
</p>
<p>
<code>unique_object &lt;- unique(object)</code>
</p>
<p>
and then
</p>
<p>
<code>length(unique_object)</code>
</p>
<p>
and the result will be the same
</p>
<h5 id="using-the-operator">
Using the %&gt;% operator
</h5>
<p>
The <code>%&gt;%</code> operator is a really cool function that can be found in the <code>tidyverse</code> package. It pretty much means <code>and then</code>.
</p>
<p>
For example, we can do the same as above like this:
</p>
<p>
<code>unique(object) %&gt;% length</code>
</p>
<p>
and get the same result.
</p>
<p>
However, we won’t focus on the tidyverse in this class.
</p>
</div>
<hr />
<div class="rmdquestion">
<h4 id="question-3">
Question 3
</h4>
<ul>
<li>
Summarize all the columns and add both the code and the results
</li>
<li>
Which column has the highest amount of categories?
</li>
</ul>
</div>
<p>Finally, we can also summarize the number of samples of a category using the command <code>table</code>.</p>
<p>If we want to know the number of candies that are of each color we can do it like this:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="sumarizing-and-subsetting-data-frames.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(candy_table<span class="sc">$</span>color)</span></code></pre></div>
<pre><code>## 
##   blue  brown  green orange   pink    red yellow 
##      2      2      3      2      1      4      4</code></pre>
<p>Easy! If you want to order them, then just use the <code>sort</code> function in the <code>table</code>:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="sumarizing-and-subsetting-data-frames.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(candy_table<span class="sc">$</span>color))</span></code></pre></div>
<pre><code>## 
##   pink   blue  brown orange  green    red yellow 
##      1      2      2      2      3      4      4</code></pre>
<div class="rmdquestion">
<h4 id="question-4">
Question 4
</h4>
<ul>
<li>
For each column, what is the most abundant and less abundant category? Add the code
</li>
<li>
How can you organize your results of <code>sort</code> in a decreasing order (meaning from larger to smaller)? Add the code
</li>
</ul>
</div>
<div class="rmdquestion">
<h4 id="question-5-and-this-is-more-of-a-philosophical-question">
Question 5 (And this is more of a philosophical question)
</h4>
<ul>
<li>
Based on your results, which of the columns has the least <strong>useful information</strong>. (Remember what we talked about in class: Sometimes a large number of categories is unnecessary). Explain why
</li>
</ul>
</div>
</div>
<div id="summarizing-data-1" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Summarizing data<a href="sumarizing-and-subsetting-data-frames.html#summarizing-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we understand the content of the columns, the next step is to remove the columns that do not have any information and start to summarize your results.</p>
<p>In my case, I think that the <code>scent</code> column is unnecessary, so I want to remove it.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="sumarizing-and-subsetting-data-frames.html#cb89-1" aria-hidden="true" tabindex="-1"></a>ct.no_scent <span class="ot">&lt;-</span> <span class="fu">subset</span>(candy_table, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(scent))</span>
<span id="cb89-2"><a href="sumarizing-and-subsetting-data-frames.html#cb89-2" aria-hidden="true" tabindex="-1"></a>ct.no_scent</span></code></pre></div>
<pre><code>##     color      flavor       type scent.category
## 1     red  strawberry    skittle          fruit
## 2     red      cherry  starburst       non-food
## 3     red   chocolate        m&amp;m       non-food
## 4     red choc/peanut peanut m&amp;m      chocolate
## 5  orange choc/peanut peanut m&amp;m      chocolate
## 6  orange      orange    skittle          fruit
## 7  yellow       lemon    skittle          fruit
## 8  yellow choc/peanut peanut m&amp;m      chocolate
## 9  yellow   chocolate        m&amp;m      chocolate
## 10 yellow       lemon  starburst       non-food
## 11  green choc/peanut peanut m&amp;m       non-food
## 12  green   chocolate        m&amp;m      chocolate
## 13  green        lime    skittle          fruit
## 14   blue   chocolate        m&amp;m       non-food
## 15   blue choc/peanut peanut m&amp;m      chocolate
## 16  brown       grape    skittle          fruit
## 17  brown   chocolate        m&amp;m       non-food
## 18   pink  strawberry  starburst       non-food</code></pre>
<div class="rmdquestion">
<h4 id="question-6">
Question 6
</h4>
<ul>
<li>
Remove another column (other tan flavor) and explain why you decided to remove it
</li>
</ul>
</div>
<p>Fantastic! Now, lets summarize the data a bit more. Lets say we want to know the number of scent category for each type of candy</p>
<p>We can use two of the functions we already know: <code>subset</code> and <code>table</code>:</p>
<ol style="list-style-type: decimal">
<li>Create a subset per type (I will only use skittle):</li>
</ol>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="sumarizing-and-subsetting-data-frames.html#cb91-1" aria-hidden="true" tabindex="-1"></a>skit.ct <span class="ot">&lt;-</span> <span class="fu">subset</span>(ct.no_scent, type <span class="sc">==</span> <span class="st">&quot;skittle&quot;</span>)</span>
<span id="cb91-2"><a href="sumarizing-and-subsetting-data-frames.html#cb91-2" aria-hidden="true" tabindex="-1"></a>skit.ct <span class="ot">&lt;-</span> <span class="fu">table</span>(skit.ct<span class="sc">$</span>scent.category)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Transform the list to a data frame and give it column names that are more representative of the data</li>
</ol>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="sumarizing-and-subsetting-data-frames.html#cb92-1" aria-hidden="true" tabindex="-1"></a>skit.ct <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(skit.ct)</span>
<span id="cb92-2"><a href="sumarizing-and-subsetting-data-frames.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(skit.ct) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Flavor&quot;</span>, <span class="st">&quot;Skittle&quot;</span>)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Do it for all different colors</li>
</ol>
<div class="rmdquestion">
<h4 id="question-7">
Question 7
</h4>
<ul>
<li>
Create summary dataframes for all other types of candy
</li>
</ul>
</div>
<p>4.Merge all the data into a single table using the command <code>merge</code></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="sumarizing-and-subsetting-data-frames.html#cb93-1" aria-hidden="true" tabindex="-1"></a>tb1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(skit.ct, starburst.ct, <span class="at">by=</span><span class="st">&quot;Flavor&quot;</span>, <span class="at">all =</span> T)</span>
<span id="cb93-2"><a href="sumarizing-and-subsetting-data-frames.html#cb93-2" aria-hidden="true" tabindex="-1"></a>tb2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(mm.ct, pean.ct, <span class="at">by=</span><span class="st">&quot;Flavor&quot;</span>, <span class="at">all =</span> T)</span>
<span id="cb93-3"><a href="sumarizing-and-subsetting-data-frames.html#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="sumarizing-and-subsetting-data-frames.html#cb93-4" aria-hidden="true" tabindex="-1"></a>tb.all <span class="ot">&lt;-</span> <span class="fu">merge</span>(tb1, tb2, <span class="at">by =</span> <span class="st">&quot;Flavor&quot;</span>, <span class="at">all =</span> T)</span>
<span id="cb93-5"><a href="sumarizing-and-subsetting-data-frames.html#cb93-5" aria-hidden="true" tabindex="-1"></a>tb.all</span></code></pre></div>
<pre><code>##      Flavor Skittle Starburst M&amp;M Peanut M&amp;M
## 1     fruit       5        NA  NA         NA
## 2  non-food      NA         3   3          1
## 3 chocolate      NA        NA   2          4</code></pre>
<div class="rmdquestion">
<h4 id="question-8">
Question 8
</h4>
<ul>
<li>
What are the <code>tb1</code> and <code>tb2</code> objects in step 4?
</li>
<li>
What conclusions can you make from your final table?
</li>
</ul>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-r-2-data-frames.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="plots.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/07-analysis_df.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
